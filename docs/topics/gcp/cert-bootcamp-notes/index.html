<!doctype html><html lang=en-au><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,minimum-scale=1"><link rel="preconnect dns-prefetch" href=https://fonts.gstatic.com/ crossorigin><link rel=preload as=script href=https://cdn.ampproject.org/v0.js><script async src=https://cdn.ampproject.org/v0.js></script><script async custom-element=amp-analytics src=https://cdn.ampproject.org/v0/amp-analytics-0.1.js></script><script async custom-element=amp-sidebar src=https://cdn.ampproject.org/v0/amp-sidebar-0.1.js></script><script async custom-element=amp-fit-text src=https://cdn.ampproject.org/v0/amp-fit-text-0.1.js></script><link href="https://fonts.googleapis.com/css?family=Roboto|Libre+Franklin" rel=stylesheet><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.6.3/css/all.css integrity=sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/ crossorigin=anonymous><style amp-custom>*,*::before,*::after{box-sizing:border-box}html{font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}article,aside,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,segoe ui,Roboto,helvetica neue,Arial,noto sans,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol,noto color emoji;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;background-color:#fff}[tabindex="-1"]:focus{outline:0!important}hr{box-sizing:content-box;height:0;overflow:visible}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem}p{margin-top:0;margin-bottom:1rem}abbr[title],abbr[data-original-title]{text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;border-bottom:0;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul,dl{margin-top:0;margin-bottom:1rem}ol ol,ul ul,ol ul,ul ol{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:80%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#007bff;text-decoration:none;background-color:transparent}a:hover{color:#0056b3;text-decoration:underline}a:not([href]):not([tabindex]){color:inherit;text-decoration:none}a:not([href]):not([tabindex]):hover,a:not([href]):not([tabindex]):focus{color:inherit;text-decoration:none}a:not([href]):not([tabindex]):focus{outline:0}pre,code,kbd,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,liberation mono,courier new,monospace;font-size:1em}pre{margin-top:0;margin-bottom:1rem;overflow:auto}figure{margin:0 0 1rem}img{vertical-align:middle;border-style:none}svg{overflow:hidden;vertical-align:middle}table{border-collapse:collapse}caption{padding-top:.75rem;padding-bottom:.75rem;color:#6c757d;text-align:left;caption-side:bottom}th{text-align:inherit}label{display:inline-block;margin-bottom:.5rem}button{border-radius:0}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}input,button,select,optgroup,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{padding:0;border-style:none}input[type=radio],input[type=checkbox]{box-sizing:border-box;padding:0}input[type=date],input[type=time],input[type=datetime-local],input[type=month]{-webkit-appearance:listbox}textarea{overflow:auto;resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{display:block;width:100%;max-width:100%;padding:0;margin-bottom:.5rem;font-size:1.5rem;line-height:inherit;color:inherit;white-space:normal}progress{vertical-align:baseline}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:none}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}summary{display:list-item;cursor:pointer}template{display:none}[hidden]{display:none!important}.max-width-half{max-width:50%}.m0{margin:0}.mt0{margin-top:0}.mr0{margin-right:0}.mb0{margin-bottom:0}.ml0{margin-left:0}.mx0{margin-left:0;margin-right:0}.my0{margin-top:0;margin-bottom:0}.m1{margin:.5rem}.mt1{margin-top:.5rem}.mr1{margin-right:.5rem}.mb1{margin-bottom:.5rem}.ml1{margin-left:.5rem}.mx1{margin-left:.5rem;margin-right:.5rem}.my1{margin-top:.5rem;margin-bottom:.5rem}.m2{margin:1rem}.mt2{margin-top:1rem}.mr2{margin-right:1rem}.mb2{margin-bottom:1rem}.ml2{margin-left:1rem}.mx2{margin-left:1rem;margin-right:1rem}.my2{margin-top:1rem;margin-bottom:1rem}.m3{margin:2rem}.mt3{margin-top:2rem}.mr3{margin-right:2rem}.mb3{margin-bottom:2rem}.ml3{margin-left:2rem}.mx3{margin-left:2rem;margin-right:2rem}.my3{margin-top:2rem;margin-bottom:2rem}.m4{margin:4rem}.mt4{margin-top:4rem}.mr4{margin-right:4rem}.mb4{margin-bottom:4rem}.ml4{margin-left:4rem}.mx4{margin-left:4rem;margin-right:4rem}.my4{margin-top:4rem;margin-bottom:4rem}.mxn1{margin-left:calc(0.5rem * -1);margin-right:calc(0.5rem * -1)}.mxn2{margin-left:calc(1rem * -1);margin-right:calc(1rem * -1)}.mxn3{margin-left:calc(2rem * -1);margin-right:calc(2rem * -1)}.mxn4{margin-left:calc(4rem * -1);margin-right:calc(4rem * -1)}.m-auto{margin:auto}.mt-auto{margin-top:auto}.mr-auto{margin-right:auto}.mb-auto{margin-bottom:auto}.ml-auto{margin-left:auto}.mx-auto{margin-left:auto;margin-right:auto}.my-auto{margin-top:auto;margin-bottom:auto}.p0{padding:0}.pt0{padding-top:0}.pr0{padding-right:0}.pb0{padding-bottom:0}.pl0{padding-left:0}.px0{padding-left:0;padding-right:0}.py0{padding-top:0;padding-bottom:0}.p1{padding:.5rem}.pt1{padding-top:.5rem}.pr1{padding-right:.5rem}.pb1{padding-bottom:.5rem}.pl1{padding-left:.5rem}.py1{padding-top:.5rem;padding-bottom:.5rem}.px1{padding-left:.5rem;padding-right:.5rem}.p2{padding:1rem}.pt2{padding-top:1rem}.pr2{padding-right:1rem}.pb2{padding-bottom:1rem}.pl2{padding-left:1rem}.py2{padding-top:1rem;padding-bottom:1rem}.px2{padding-left:1rem;padding-right:1rem}.p3{padding:2rem}.pt3{padding-top:2rem}.pr3{padding-right:2rem}.pb3{padding-bottom:2rem}.pl3{padding-left:2rem}.py3{padding-top:2rem;padding-bottom:2rem}.px3{padding-left:2rem;padding-right:2rem}.p4{padding:4rem}.pt4{padding-top:4rem}.pr4{padding-right:4rem}.pb4{padding-bottom:4rem}.pl4{padding-left:4rem}.py4{padding-top:4rem;padding-bottom:4rem}.px4{padding-left:4rem;padding-right:4rem}.relative{position:relative}.absolute{position:absolute}.fixed{position:fixed}.top-0{top:0}.right-0{right:0}.bottom-0{bottom:0}.left-0{left:0}.inline{display:inline}.block{display:block}.inline-block{display:inline-block}.table{display:table}.table-cell{display:table-cell}.overflow-hidden{overflow:hidden}.overflow-scroll{overflow:scroll}.overflow-auto{overflow:auto}.clearfix:before,.clearfix:after{content:" ";display:table}.clearfix:after{clear:both}.left{float:left}.right{float:right}.fit{max-width:100%}.max-width-1{max-width:24rem}.max-width-2{max-width:32rem}.max-width-3{max-width:48rem}.max-width-4{max-width:64rem}.border-box{box-sizing:border-box}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.border-none{border:0}.rounded{border-radius:3px}.circle{border-radius:50%}.not-rounded{border-radius:0}.flex,.stream>div{display:-ms-flexbox;display:flex}@media(min-width:40em){.sm-flex{display:-ms-flexbox;display:flex}}@media(min-width:52em){.md-flex{display:-ms-flexbox;display:flex}}@media(min-width:64em){.lg-flex{display:-ms-flexbox;display:flex}}.flex-column{-ms-flex-direction:column;flex-direction:column}.flex-wrap,.stream>div{-ms-flex-wrap:wrap;flex-wrap:wrap}.items-start{-ms-flex-align:start;align-items:flex-start}.items-end{-ms-flex-align:end;align-items:flex-end}.items-center,.stream>div{-ms-flex-align:center;align-items:center}.items-baseline{-ms-flex-align:baseline;align-items:baseline}.items-stretch{-ms-flex-align:stretch;align-items:stretch}.self-start{-ms-flex-item-align:start;align-self:flex-start}.self-end{-ms-flex-item-align:end;align-self:flex-end}.self-center{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.self-baseline{-ms-flex-item-align:baseline;align-self:baseline}.self-stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.justify-start{-ms-flex-pack:start;justify-content:flex-start}.justify-end{-ms-flex-pack:end;justify-content:flex-end}.justify-center{-ms-flex-pack:center;justify-content:center}.justify-between{-ms-flex-pack:justify;justify-content:space-between}.justify-around{-ms-flex-pack:distribute;justify-content:space-around}.justify-evenly{-ms-flex-pack:space-evenly;justify-content:space-evenly}.content-start{-ms-flex-line-pack:start;align-content:flex-start}.content-end{-ms-flex-line-pack:end;align-content:flex-end}.content-center{-ms-flex-line-pack:center;align-content:center}.content-between{-ms-flex-line-pack:justify;align-content:space-between}.content-around{-ms-flex-line-pack:distribute;align-content:space-around}.content-stretch{-ms-flex-line-pack:stretch;align-content:stretch}.flex-auto{-ms-flex:1 1 auto;flex:1 1 auto;min-width:0;min-height:0}.flex-none{-ms-flex:none;flex:none}.order-0{-ms-flex-order:0;order:0}.order-1{-ms-flex-order:1;order:1}.order-2{-ms-flex-order:2;order:2}.order-3{-ms-flex-order:3;order:3}.order-last{-ms-flex-order:99999;order:99999}.font-family-inherit{font-family:inherit}.font-size-inherit{font-size:inherit}.text-decoration-none{text-decoration:none}.bold{font-weight:700;font-weight:700}.regular{font-weight:400}.italic{font-style:italic}.caps{text-transform:uppercase;letter-spacing:.2em}.left-align{text-align:left}.center{text-align:center}.right-align{text-align:right}.justify{text-align:justify}.nowrap{white-space:nowrap}.break-word{word-wrap:break-word}.line-height-1{line-height:1}.line-height-2{line-height:1.125}.line-height-3{line-height:1.25}.line-height-4{line-height:1.5}.list-style-none{list-style:none}.underline{text-decoration:underline}.truncate{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.list-reset{list-style:none;padding-left:0}.hide{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px)}@media(max-width:40em){.xs-hide{display:none!important}}@media(min-width:40em) and (max-width:52em){.sm-hide{display:none!important}}@media(min-width:52em) and (max-width:64em){.md-hide{display:none!important}}@media(min-width:64em){.lg-hide{display:none!important}}.display-none{display:none!important}.h00{font-size:4rem}.h0{font-size:3rem}.h1{font-size:2rem}.h2{font-size:1.5rem}.h3{font-size:1.25rem}.h4{font-size:1rem}.h5{font-size:.875rem}.h6{font-size:.75rem}.graph-container{background-color:#fff;border:1px solid #000;margin:.5rem 1rem;height:80vh}.graph-introduction{padding:1rem}g-node,g-edge{display:block;font-size:12px;font-weight:400}g-node g-node,g-edge{margin-left:2em}g-node[group=title],g-node[group=titleimage]{font-size:24px;font-weight:700}g-node[group=h1],g-node.h1,g-node[group=terminology]{font-size:20px;font-weight:700}g-node[group=h2],g-node.h2{font-size:18px;font-weight:700}g-node[group=h3],g-node.h3{font-size:16px;font-weight:700}g-node[group=h4],g-node.h4,g-node[group=h5],g-node.h5,g-node[group=h6],g-node.h6,g-node[group=h7],g-node.h7,g-node[group=h8],g-node.h8,g-node[group=h9],g-node.h9,g-node[group=h10],g-node.h10{font-size:14px;font-weight:700}.hacktheai-font-content,body{font-family:roboto,sans-serif}.hacktheai-font-heading,.header-navbar{font-family:libre franklin,sans-serif;font-weight:700}body{background-color:#f8f8f8;min-width:400px}.page-width,.paper-inner{max-width:1200px}.paper-inner{padding:0 .2rem}@media(min-width:600px){.paper-inner{padding:0 2rem}}a:link,a:visited,a.active:link,a.active:visited,.active a:hover,.active a:link,color: $link-color-light-theme{text-decoration:none;background-color:inherit}a:focus,a:hover{color:#6baff7;text-decoration:underline;background-color:inherit}a.active:focus,a.active:hover,.active a:focus,.active a:visited{color:#6baff7;text-decoration:none;background-color:inherit}.ad-container{margin:1rem 0;text-align:center}ol,ul,dl{padding-left:2rem;padding-right:1rem}.card-container{margin-left:-.5rem;margin-right:-.5rem}.card{margin:1rem .5rem 4rem;padding:.5rem;background-color:#fff;box-shadow:0 30px 4rem 0 rgba(1,1,1,.15)}.card ul{margin:0}@media(min-width:600px){.card-container{margin-left:-1.2rem;margin-right:-1.2rem}.card{margin:1.2rem}}.widget{text-align:center}.widget.card{padding:1.5rem}.header-banner{background-color:#002656;height:100px}.header-banner>div{display:flex;justify-content:start;align-items:center;flex-wrap:nowrap;margin:0 auto}.logo-wrapper{margin-right:auto}.logo-wrapper amp-img{min-width:371px;max-width:371px;min-height:100px}.header-navbar{border:none;margin-right:2rem}.header-navbar nav{background-color:inherit;margin:0;text-align:center}.header-navbar nav ul{margin:0;padding:0}.header-navbar nav ul li{display:block;list-style-type:none;padding-right:1rem}.header-navbar nav ul li a{color:#ffea00;font-size:1.2em}.header-navbar nav ul li a.active{color:#ffea00}.header-navbar nav ul li a:hover,.header-navbar nav ul li a:focus{color:#ffea00}.header-navbar nav ul li:last-of-type{padding-right:0}.sidebar-toggle-btn,.sidebar-right .fa-window-close{background-color:#ffea00;color:#002656;border:2px solid #ffea00}@media(min-width:1025px){.sidebar-toggle-btn{display:none}.header-navbar nav ul li{display:inline}}.sidebar-right{width:250px;background-color:#002656}.sidebar-right button{color:#002656;background-color:#002656;border:none}.page-layout{margin:0 auto;display:grid;grid-row-gap:0;grid-template-areas:"main" "rightpanel"}.page-layout-right-panel{grid-area:rightpanel;min-height:800px}.page-layout-right-panel .widget .twitter-feed{position:relative;overflow-y:scroll;min-width:300px;max-width:400px;height:800px;min-height:800px;margin:0 auto}.page-layout-main{grid-area:main;min-width:400px}@media(min-width:930px){.page-layout{grid-column-gap:2rem;grid-row-gap:0;grid-template-columns:3fr 1fr;grid-template-areas:"main rightpanel"}.page-layout-right-panel .widget .twitter-feed{width:350px;min-height:800px;height:80vh}}.graph-container{height:92vh}.stream h1{text-align:center;color:#ffea00;width:100%;padding:1em;background-color:#002656;margin-bottom:1em}.stream h2{color:#002656}.stream p{margin-bottom:.5em}.stream .text-container{flex:1 1 320px;padding:1em}.stream amp-img{margin:0 auto}@media(min-width:600px){.stream.card{padding:1.5rem}}footer{background-color:#002656;padding:1.5em 0;color:#ffea00}</style><style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><link rel=canonical href=https://hackthe.ai/topics/gcp/cert-bootcamp-notes/><title>Hack the AI</title><meta property=og:title content><meta property=og:description content="cloud storage 2c per gb per month 99.5% availability (5 out 1000 failures possibly) 11x9&rsquo;s durable
object store (replace only), not a file store (can&rsquo;t open the file for writing)
bucket names are globally unique
can name a bucket like a domain name - e.g. files.[your name].com if you can prove you own your domain - create a CNAME record to point your subdomain to the storage bucket
max size of a single object is 5 TB"><meta property=og:type content=article><meta property=og:url content=https://hackthe.ai/topics/gcp/cert-bootcamp-notes/><meta itemprop=name content><meta itemprop=description content="cloud storage 2c per gb per month 99.5% availability (5 out 1000 failures possibly) 11x9&rsquo;s durable
object store (replace only), not a file store (can&rsquo;t open the file for writing)
bucket names are globally unique
can name a bucket like a domain name - e.g. files.[your name].com if you can prove you own your domain - create a CNAME record to point your subdomain to the storage bucket
max size of a single object is 5 TB"><meta itemprop=wordCount content=5099><meta itemprop=keywords content><meta name=twitter:card content=summary_large_image><meta name=twitter:image content=https://hackthe.ai/img/hacktheai/hacktheai-default-share-1.jpg><meta name=twitter:title content><meta name=twitter:description content="cloud storage 2c per gb per month 99.5% availability (5 out 1000 failures possibly) 11x9&rsquo;s durable
object store (replace only), not a file store (can&rsquo;t open the file for writing)
bucket names are globally unique
can name a bucket like a domain name - e.g. files.[your name].com if you can prove you own your domain - create a CNAME record to point your subdomain to the storage bucket
max size of a single object is 5 TB"><link rel=icon href=/img/hacktheai/favicon.ico type=image/ico></head><body><amp-analytics type=gtag data-credentials=include><script type=application/json>{"vars":{"gtag_id":"UA-131688201-1","config":{"UA-131688201-1":{"groups":"default"}}}}</script></amp-analytics><header class=header-banner role=banner><div class=page-width><div class=logo-wrapper><a href=https://hackthe.ai><amp-img src=/img/hacktheai/hacktheai-logo-wide.png alt="Hack the AI Logo" width=595 height=160 layout=intrinsic></amp-img></a></div><div class=header-navbar><button class=sidebar-toggle-btn on=tap:SidebarRight.toggle><i class="fas fa-bars fa-2x"></i></button>
<amp-sidebar id=SidebarRight class=sidebar-right layout=nodisplay side=right><button on=tap:SidebarRight.close><i class="far fa-window-close fa-2x"></i></button><nav toolbar="(min-width: 1025px)" toolbar-target=target-element-right><ul><li><a href=https://hackthe.ai/#AITopics>Artificial Intelligence</a></li><li><a href=https://hackthe.ai/#MLTopics>Machine Learning</a></li><li><a href=https://hackthe.ai/#DLTopics>Deep Learning</a></li></ul><ul><li><a href=https://hackthe.ai/#CloudPlatformTopics>Cloud Platforms</a></li><li><a href=https://hackthe.ai/#BigDataTopics>Big Data</a></li><li><a href=https://hackthe.ai/#DataScienceTopics>Data Science</a></li><li><a href=https://hackthe.ai/#MathsTopics>Mathematics</a></li><li><a href=https://hackthe.ai/#About>About</a></li></ul></nav><ul></ul></amp-sidebar><div id=target-element-right></div></div></div></header><h2 id=cloud-storage>cloud storage</h2><p>2c per gb per month
99.5% availability (5 out 1000 failures possibly)
11x9&rsquo;s durable</p><p>object store (replace only), not a file store (can&rsquo;t open the file for writing)</p><p>bucket names are globally unique</p><p>can name a bucket like a domain name
- e.g. files.[your name].com if you can prove you own your domain - create a CNAME record to point your subdomain to the storage bucket</p><p>max size of a single object is 5 TB</p><p>Uses:
- all static web content - e.g. stylesheets, images, videos, javascript files,</p><p>region - a data centre in the world - two or more zones; most have 3 zones; some has 4
zone - independant power supply etc.</p><p>Region 99.9% avaailability, 2.3 cents / GB-month
multi-region 99.95% us or asia or europe, 2.6 cents / GB
Dual-region - 99.95% iowa (middle of us) and south carolina (east)</p><p>Storage classes
- Standard 2.3c/GB-month storage cost; no min storage duration
- Nearline 1.6c/GB-month + 10c/GB-month retrieval cost - cheaper if accessed less than once per month; min duration 30 days
- Coldline 0.6c/GB-month + 5c/GB-month retrieval - if accessed less than once per year; min duration 90 dayss</p><p><a href=https://cloud.google.com/storage/docs/storage-classes>https://cloud.google.com/storage/docs/storage-classes</a>
Understand how you are being charged - not remember the specific prices
Min storage duration is charged, even if you delete it immediately - for nearline and coldline!</p><p>Access
- Set permissions at bucket level (bucket policy only)
- Set permissions at both object-level and bucket-level</p><p>Encryption
- all deta is encrypted by default in all google services - can&rsquo;t turn it off - google managed key
- customer managed key via Google Cloud Key Management Service (KMS)
- customer supplied keys - created and managed by you, and uploaded</p><p>Retention policy
- min time before objects can be deleted or changed after uploaded</p><p>FEATURES
- object metadata
- encryption
- versioning - gsutil ls -a # show all files, including all old versions of the file
- lifecycle management
- lifecycle rules: based on age, creation date, storage class, blah then do an action, like set it to nearline, coldline, delete it
- change notifications - use Cloud Functions to do something with the object when it is uploladed etc
- security
- bucket permissions
- add members - email account, allusers,
- group, domain, user email, project - read or owner permissions</p><ul><li>IAM Roles<ul><li>storage object viewer - 4 permissions - get &amp; list for resourcemanager.projects &amp; storage.objects</li><li>creator - 3 permissions - resorucemanageerget/list</li><li>admin - 9 permissions</li></ul></li></ul><h3 id=signed-urls-on-the-exam>Signed URLs - ON THE EXAM</h3><pre><code>- temp access to buckets
</code></pre><pre><code>gcloud iam service-accounts keys create ~/key.json --iam-account storage-admin-sa@doug-demo-project.iam.gserviceaccount.com
gsutil signurl -d 10m ~/key.json gs://super-secure-bucket/noir.jpg
</code></pre><p>Static content - Shared files
- allUsers read access
- <a href=https://storage.googleapis.com/bucketname/filename>https://storage.googleapis.com/bucketname/filename</a>
- map bucket to your domain
- prove your ownership with a TXT record, and add CNAME for you subdomain to c.storage.googleapis.com
- option on the bucket - &ldquo;edit website configuration&rdquo; to specify Main page and 404 page
- http not https
- create a load balancer (under network services)
backend config: pointing to your storage bucket, enable Cloud CDN optioanlly,
frontend config: http or https protocol, provide a certificate (have google create for free (let&rsquo;s encrypt) or upload own)
- create A record to point to load balancer</p><p>CDN is ON EXAM - purpose of worldwide
DO EXERCISE TO DEPLOY WEBSITE TO STORAGE
<a href=https://labs.roitraining.com/labs/758-03-gcp-cloud-storage/index.html>https://labs.roitraining.com/labs/758-03-gcp-cloud-storage/index.html</a></p><pre><code>gcloud init

gsutil ls               # shows buckets
gsutil ls gs://mybucket

# Upload to bucket

gsutil cp localfile gs://mybucket   # copy

gsutil rsync -r -x &quot;.git/*&quot; . gs://BUCKET_NAME/
    # -r recursive copy
    # -x exclude files in the .git folder


# Set bucket to public-read

gsutil -m acl set -R -a public-read gs://BUCKET_NAME
    # -m multithreaded
    # -R recursive
    # -a all object versions

# Version control

## Get status of versions (&quot;Suspended&quot; = not enabled, &quot;Enabled&quot;)
gsutil versioning get gs://BUCKET_NAME/

gsutil versioning set on gs://BUCKET_NAME/

## List versions of the file
gsutil ls -al gs://BUCKET_NAME/myfile

$ gsutil ls -la  gs://adam1/test.txt
         3  2019-10-15T14:15:24Z  gs://adam1/test.txt#1571148924339107  metageneration=1
         6  2019-10-15T14:17:25Z  gs://adam1/test.txt#1571149045157341  metageneration=1
TOTAL: 2 objects, 9 bytes (9 B)
</code></pre><h1 id=cloud-transfer-services>Cloud Transfer Services</h1><p>web console
gsutil will upload multiple files in parallel, resumable in case of network interruption,
json api</p><p>bigquery data transfer service</p><h3 id=storage-transfer-service>Storage Transfer Service</h3><p>bucket to bucket
scheduled
- Createa transfer job into a jucket
from storage bucket, a3 bucket, &hellip;,</p><h3 id=transfer-appliance>Transfer Appliance</h3><ul><li>offline data transfers</li><li>request transfer applicance</li><li>you manage encryption key</li><li>100TB, 480TB</li></ul><h2 id=cloud-cdn>Cloud CDN</h2><p>Charged for netwrok egress</p><p>costs of delivering content from a bucket vs. the CDN
<a href=https://cloud.google.com/storage/pricing#network-pricing>https://cloud.google.com/storage/pricing#network-pricing</a>
<a href=https://cloud.google.com/cdn/pricing>https://cloud.google.com/cdn/pricing</a></p><p>ADAM HERE:</p><h2 id=persistent-disk>Persistent disk</h2><ul><li><p>Prefer Cloud Storage, unless you need an actual file system!</p></li><li><p>must be attached to a VM</p></li><li><p>compute engine - create a VM</p></li><li><p>ssh
install apache http server
cd /var/www/html</p></li><li><p>under disks - has a &ldquo;standard persistent disk&rdquo;, in same zone as the VM</p></li><li><p>snapshot a disk</p><ul><li>on a schedule</li><li>stored in cloud storage - regional or multi-regional</li><li><p>create disk based on snapshot</p></li><li><p>uses:</p><ul><li>backup a persistent disk</li><li>move a disk to another region or zone</li><li>make a persistent disk larger</li></ul></li></ul></li><li><p>min 10GB to 64TB?</p></li><li><p>can add/create more disks - SSD or standard magenetic</p><ul><li>size of disk changes the IOPs</li></ul></li></ul><p>DO EXERCISE <a href=https://labs.roitraining.com/labs/793a-gcp03-disks-and-snapshots/index.html#0>https://labs.roitraining.com/labs/793a-gcp03-disks-and-snapshots/index.html#0</a></p><h2 id=encryption>Encryption</h2><ul><li>files broken into chunks</li><li>chunks encrypted with Data Encryption Key (DEK)</li><li>DEK is encrypted with Key Encryption Key (KEK)</li><li>Chunks stored multiple times on physical disks</li></ul><p>Key management
- gogole managed - no config
- KEK rotated frequqently
- DEK rotation at least once every 5 years
- customer managed - via KMS
- customer supplied - outside of Google</p><p>Better to encrypt file before uploading it, rather than using a customer supplied key!</p><h2 id=cloud-key-management-service-kms>Cloud Key Management Service (KMS)</h2><ul><li>create a keyring and add keys to it</li><li>symmetric, asymmetric</li><li>rotation period, auto generated or own</li></ul><h2 id=apache-beam>apache beam</h2><ul><li>b for batch</li><li>eam for stream</li></ul><h2 id=bigtable>bigtable</h2><p>$1400 per month just for the instance
noSQL
not transactional
like cassandra / hbase
wide-column store</p><p>number of nodes dictates network capacity</p><p>Config:
- storage type : SSD, HDD (slower, cheaper)
- cluster id
- region &amp; zone
- choose number of nodes - min of 3 for prod
- add a replicated cluster in a different region/zone</p><p>Price
- 1 cluster of 3 nodes AUD $1922/month
- plus 1TB HDD $35/month</p><p>Schamas
- tables
- row key
- columns can be grouped in column families
- store all data about an entity in a single row
- updates to a single row are implicitly transactional
- transactions are only within one row - multiple rows not supported
- No indexes (unless you create your own table to be that index, or create a better row key&hellip;)</p><p>EXAM
- question on how to design row keys
- counter is a bad row key - all new rows go to the last tablet - use a hash?
- timestamp is a bad row key - last tablet
- GUID is good - random and distributed - but not helpful for a search based on an attribute of the data
- Design based on the likely query predicate performed
- good example: highway number - mile marker / sensor number - timestamp</p><p>Metadata
- Table is assigned multiple tablets to store metadata
- tablets are distributed over different disks</p><p>Use BigTable - when You need a place to store a huge amount of data (100TB plus) and you need extremely fast random access to individual records.</p><h2 id=firestore-datastore>firestore / datastore</h2><p>Datastore has been migrated to Firestore
no sql
ACID transactional</p><p>indexes created by default on every property - so there are &ldquo;secondary indexes&rdquo; and more!</p><p>Firestore was purchased, Google liked it better than Datastore, but wanted to consolidate them</p><p>All datastore was migrated to Firestore in Datastore mode.</p><p>Runs on top of a shared instance of Spanner!! Same availability!</p><p>Config:
- Mode
- Native mode (use for all new development) - all features, offline support and real-time sync. API is like Mongo db.
- Datastore mode -
- location
- multi-region - eur, nam 99.999% (same as spanner) ~17c / GB-month + reads/write (1GB free)
- single region - syd 99.99% (same as spanner) ~8c / GB-month + reads/write (1GB free)</p><p>1GB free tier!!
so if small website data, then Firestore is the cheapest option!!</p><p>relational - datastore terminolgy
- tables - kinds
- rows/records - entities
- fields - properties
- primary key - key
- relationship - entity group (for faster reads on related data)
- primary-foreign keys - ancestor paths (composite key points back to parent)</p><p>Firestore
- uses Firebase API - like Mongo
- not supported with older App Engine rntimes
- supports offline mobile devices and synch</p><p>firestore - dtaastore terminology
- collections - kinds
- documents - entities
- key-value pairs - properties
- document name - key
- sub-documents - entity groups</p><p>DO THE FIRESTORE EXERCISE
EXAM
- <a href=https://quiz.roitraining.com/de-quiz4.html>https://quiz.roitraining.com/de-quiz4.html</a></p><h2 id=memorystore>Memorystore</h2><p>managed, in-memory redis caching (key-value) - SET/GET
no sql
scale 1GB to 300GB instances</p><p>Config:</p><p>basic tier
- single instnace
- $35 / month</p><p>standard tier
- has failover replica in another zone
- 99.9% availability
- $46 / month</p><p>choose RAM 1 - 300GB</p><p>open-source</p><p>tutorial: try.redis.io (not needed for exam)</p><p>secure with an internal IP address only
- available only from within same VPC
- IAM roles</p><p>EXAM!
Using the Price Calculator, estimate the cost of running a 10TB database using Cloud SQL, Spanner, Datastore, and Bigtable
<a href=https://cloud.google.com/products/calculator/>https://cloud.google.com/products/calculator/</a>
Do your best to estimate the values for each product
Use the documentation to help with your estimates
Compare with <a href="https://cloud.google.com/products/calculator/#id=a0518a39-ae29-4bd6-868b-162dc3e6fe64">https://cloud.google.com/products/calculator/#id=a0518a39-ae29-4bd6-868b-162dc3e6fe64</a></p><h2 id=cloud-sql>Cloud SQL</h2><p>Uses:
- dynamic web apps - load balancer -&gt; compute engine instances in different zones -&gt; Master and replica Cloud SQL in different zones</p><p>NOT SaaS / managed!!!</p><p>Instance of:
- MySQL
- PostgresSQL
- SQL Server is in beta/preview - and will be more expensive due to license</p><p>Default user password is required</p><p>Public IP by default - but there is a firewall preventing internet access - you need to autorise a network / open the firewall to that IP address range
Private IP - only available within GCP network</p><p>Machine type and storage
- Tune cores 1 shared to 64 CPUS - controls the network throughput MB/s. 10 CPUs gives max network of 2000 MB/s
- Tune memory 3.75 to 6.5 GB</p><p>SSD or HDD
Capacity 10GB to 30TB (to 30720 GB) - can&rsquo;t be decreased. Start small and select &ldquo;Enable automatic storage increase&rdquo;.</p><p>Automated backups
Availabiltiy
- signle zone (1 db server)
- high avail (regional) - auto faiulure to another zone in the same region</p><p>Maintenance schedule
- maint window - any window (fine for HA), otherwise select time and day of week
- maint timing - any</p><p>Know the Advanced Options FOR THE EXAM</p><p>Standard installations of MySQL and PostgresSQL - no special config performed</p><h2 id=spanner>spanner</h2><p>Fully managed relational, strongly consistent, ACID transactions
Scales globally, distributed horizonatally across regions
Number of nodes determines capacity
Designed for extremely large relational databases</p><p>expensive! Min of US $1600 / month plus storage and usage costs!
99.999% availability</p><p>Config:
- name
- regional / multi-regional
- each region has different number of replicas and availablitly
- diff sets of read-write replicas
- nam = north america
- eur = europe
- asia</p><ul><li>USD $8k per month</li><li><p>USD $42k per month for multi-regional - nam-eur-asia1</p></li><li><p>number of nodes</p><ul><li>1 node gives you no availability SLA - good for dev!</li><li>min 3 nodes for a prod env</li><li>recommended 1 node per 2TB of data</li><li>10TB = 5 nodes</li><li>100TB = 50 nodes</li><li>1000TB (1 petabyte) = 500 nodes</li></ul></li><li><p>uses atomic clocks attached to the servers to manage transactions</p></li><li><p>ansi sql 2011</p></li></ul><p>do slide 96 to compare costs of SQL vs Spanner</p><h2 id=hadoop>Hadoop</h2><p>17c per gb per month on the cluster</p><h2 id=dataproc>Dataproc</h2><p>Hadoop cluster</p><p>Config
- name
- region &amp; zone
- mode
- Single node 1 master, 0 wokers
- Standard - 1 master, N workers (typical for production)
- High Availabiltiy - 3 masters, N workers
- Master node
- VM settings: compute size - n1-standard-?, HDD size - default is 500GB, min 15GB
- Worker Nodes
- VM settings: compute size - n1-standard-?, HDD size - default is 500GB, min 15GB
- Number of nodes
- Advanced
- Component Gatway - Enable accces to the web interfaces of default and select optional components of the cluster
- Gives access to Web interfaces (tab in cluster details) for YARN Resource Manager, HDFS Name Node, MapReduce job history</p><ul><li>Preemptible worker nodes<ul><li>temp; 80% cheaper; may not get it; taken after after 24 hours<br></li></ul></li></ul><p>Hive &amp; SparkSQL &amp; Presto all allow you to submit SQL to the master
- Hive to Hadoop
- SparkSQL to Spark
- Dataproc is both Hadoop and Spark!</p><p>Google would say don&rsquo;t use Presto.</p><p>EXAM
- reduce costs with preemptble
- store data in cloud storage
- use Dataproc to easily migrate legacy hadoop jobs&hellip;</p><p>Dataproc creates an HDFS cluster, but don’t use it for long-lived storage</p><p>Store the data to analyze in Google Cloud Storage
Cloud Storage is cheaper (HDFS cluster created on Persistent Disks)
Only pay for what you use, not for what you allocate</p><p>Separating storage and compute allows the cluster to be disposable
Can size the cluster for specific jobs
Delete the cluster as soon as possible
Only pay for it while it is working
Can recreate the cluster in a couple minutes</p><p>Can run existing Hadoop and Spark jobs on Dataproc
Use Cloud Storage not HDFS so the Dataproc cluster can be deleted without deleting the data
Make the attached disks small
Move HBase workloads to Bigtable to reduce administration
Script creation of Dataproc clusters and jobs
Delete the cluster when the jobs are completed to reduce cost
Machines are billed in 1-minute increments with a 10-minute minimum
Consider using preemptible instances for some of the workers</p><p>Choose BigQuery over Dataproc for greenfield</p><p>Could run Jupyter on the Dataproc cluster</p><h3 id=google-big-data-history>Google Big Data History</h3><p>Google V1
- GFS distributed file system + MapReduce became HDFS and Hadoop and given to Apache</p><p>Google V2
- Colossus replaced GFS as Cloud Storage
- Allows data stored off the cluster and brings more flexibilty to cluster management</p><pre><code>- Dremel replaced MapReduce as BigQuery (similar to Hive, Spark SQL, Presto)
    - Master parses SQL statement and turns it into a job
    - SQL is well suited to MapReduce functionality
</code></pre><p>Pig is like what Python is to Java
Hive allows SQL to be submitted to Hadoop cluster - like BigQuery
Apache Spark - effectively Hadoop v2, doing more in-memory to optimise Hadoop</p><h2 id=bigquery>bigquery</h2><p>typically the answer for anything mentioning &ldquo;Data warehousing&rdquo;!</p><p>Purpose
- Data warehouse
- Data analytics
- ML</p><p>Uses:
- data warehousing
- get data in cloud storage first -&gt; bigquery
- cloud storage -&gt; dataflow for ETL -&gt; bigquery
- log processing:
- Cloud Logging Log Collection export to cloud storage once per day -&gt; dataflow -&gt; bigquery
- Cloud Logging Log Collection stream to pub/sub -&gt; dataflow -&gt; bigquery
- shopping cart analysis:
- dataflow/cloud storage -&gt; dataproc/dataflow -&gt; bigquery or application (app engine/compute engine / container engine)</p><p>BigQuery has its own storage system
Most efficient storage when running BigQuery queries</p><p>Projects contain datasets, which contain tables
There is no limit to the number of tables in a dataset
There is no limit to the number of rows in a table</p><p>Each field in a table is stored separately
Makes querying more efficient because only fields in a query are read</p><p>All data is encrypted by default
All data is compressed for faster processing</p><p>Tables must have a schema which defines field names and data types
Schemas support nested, hierarchical data (Array)
Schemas support repeated fields
For example, an Orders table can have a field called Details which is an array of records which provides details about each order</p><p>Repeated, nested fields allow querying parent-child relationships without needing to join two tables
Joins are expensive in BigQuery since there are no indexes</p><p>Storage Pricing
- Storage 2c per GB-month for first 3 months, then 1c per GB-month
- 10TB left for a year = $1500</p><p>ANSI SQL 2011 for SELECT queries</p><p>Can write user-defined functions to manipulate data in SQL or JavaScript</p><p>Can query from a number of data sources:
- BigQuery Storage
- Google Cloud Storage
- Google Bigtable
- Google Drive</p><p>Completely NoOps<br>- No need to provision anything
- No need to tune queries</p><p>Query Pricing</p><p>Queries are charged one of two ways: on-demand and flat-rate - EXAM</p><p>On demand at $5/TB of data processed with 1TB free per month</p><p>1TB = $5
10TB = $50
1000TB (1 Petabyte) = $5000</p><p>With flat-rate pricing, you pre-purchase BigQuery capacity
- Capacity is measured in “slots”, a unit of processing in BigQuery
- Run as many queries as you can, but you will never go over your purchased slots</p><p>EXAM
- multiple questions on correct BigQuery queries - which is the right one</p><p>There are two dialects of BigQuery SQL, Legacy and Standard
Legacy was the original, replaced in 2016
Standard SQL is ANSI 2011 SQL compliant
Very minor differences exist due to the platform
Standard SQL includes data manipulation language (DML) statements
INSERT, UPDATE, DELETE
Strict quotas apply to DML statements</p><p>STRUCT function creates a composite field.
ARRAY_AGG function creates an array.
UNNEST flattens the array of objects so they are queryable
ARRAY_LENGTH(col) - count</p><h3 id=security-exam>Security - EXAM!</h3><p>Access is granted to BigQuery using IAM Members and Roles</p><p>** Table access is granted at the Dataset level
All Tables within a Dataset share the same permissions
For public Datasets, grant Viewer role to allAuthenticatedUsers</p><p>Members at minimum need Job User role to run queries</p><p>BigQuery Roles
- Admin
- Data Editor - RW data
- Data Owner - RW to data, plus grant access to other users and groups by setting IAM policies
- Data Viewer
- Job User - create and run jobs, but not access data
- User - run jobs, create datasets, list tables, save queries. No default access to data</p><h3 id=performance>Performance</h3><p>No indexes</p><p>Denormalize parent-child relationships
Store child records as repeated records with the parent row
Allows querying related data without a join</p><p>Queries that were already run are cached
Data returned from the cache is free</p><p>For very large tables, create smaller temp tables when possible</p><p>Partition tables when data is accumulated on a regular basis
For example, daily logs, daily sales, etc.
Can specify the data range of partitions to query, avoiding a table scan</p><p>Don’t group by fields with a very large number of different values</p><p>Prefer built-in functions to UDFs if possible</p><p>Partition by ingestion time
- every partition is stored in a separate file/table
- psuedo column created - _partitiontime
- WHERE _partitiontime = OR Between</p><h3 id=external-data-federated-data>External Data / &ldquo;Federated&rdquo; Data</h3><p>BigQuery can analyze data directly from:
- Bigtable
- Cloud Storage
- Google Drive</p><p>Must define a table schema for the external source</p><p>Not as efficient as BigQuery native storage
Native storage puts fields in separate tables so queries only have to scan the fields in the query, not the whole table</p><p>Useful for ETL and denormalization jobs
Read data from external source, manipulate it, and load it into BigQuery</p><p>See: <a href=https://cloud.google.com/bigquery/external-data-sources>https://cloud.google.com/bigquery/external-data-sources</a></p><h2 id=dataflow>Dataflow</h2><p>Fully managed cluster of VM instances is created to start a job</p><p>Use Cases:
Not for ETL on 1GB data - not enough data to make it worthwhile - takes longer to start the cluster than run the job!
Meant for Terabytes!</p><p>Perform a set of actions in a chain
Data from one or more sources is read into the pipeline
Actions are performed on the data to manipulate or transform it
The manipulated results are sent as output from the pipeline</p><p>Actions within a data pipeline can run at the same time (concurrently)</p><p>At scale, multiple machines can participate to get the pipeline done faster</p><p>MapReduce jobs are examples of pipelines at scale
Multiple nodes read data from disk and perform an initial map step
Data is then organized by key (the shuffle step)
Keyed data is processed separately in parallel (the reduce step)</p><p>Dataflow is the most optimised way of running Apache Beam on GCP</p><p>Batch data flows process big chunks of data at set intervals
Analyzing daily logs
Importing monthly sales
Periodic data conversions</p><p>Streaming data flows process data as it is accumulated
Analyzing traffic to determine the quickest route
What tweets are trending right now
What products are selling today</p><p>Dataflow pulls together a number of GCP services to run data flows
It is the job of the Dataflow service to optimize execution</p><p>Cloud Storage is used as a staging area for data flow code
Can also be used for data input and output</p><p>BigQuery tables can be used for input and output
BigQuery is frequently the preferred tool to analyze data flow output</p><p>Cloud Compute instances are used to execute data flows
The Dataflow service determines how many instances are required
Google’s high-speed network is used to move data around</p><p>Pub/Sub is used to provide streaming data flows</p><p>NOTE: for streaming, there will be at least one VM that you are paying for!!
Not the cheapest way to do streaming! (cheapest is PubSub -&gt; Cloud Function or AppEngine)</p><p>BUT Dataflow has windowing mechanisms, aggregation, complex event handling capability - which is the reason why you would use it for streaming
- anomaly detection
- use ML to create notification if number of messages in a window is larger/smaller than usual</p><p>Dataflow has built-in support for three types of windows
Shuffles arriving messages into the correct window based on event time
Fixed time windows are the simplest
Each window is given an interval
Sliding time windows have an interval and a period
The interval defines how long a window collects data for
The period defines how often a new window starts
Session windows define windows on areas of concentrated data
Uses a key to combine data into groups
Like sessions in a web application</p><h2 id=pubsub>PubSub</h2><p>Pub/Sub is a fully managed, massively scalable messaging service
It allows messages to be sent between independent applications<br>Can scale to millions of messages per second</p><p>Pub/Sub messages can be sent and received via HTTP(S)</p><p>Pub/Sub supports multiple senders and receivers simultaneously</p><p>Pub/Sub is a global service
Messages are copied to multiple zones for greater fault tolerance
Uses dedicated resources in every region for fast delivery worldwide</p><p>Pub/Sub is secure
All message are encrypted at rest and in transit</p><p>Config:
- Delivery type
- Pull - e.g. a Kubernetes service
- Push - web service / Cloud Function, App Engine app + std environment (scales to zero)</p><p>Pricing:
- charged by GB of message data</p><p>Event time is when something actually occurred
The time an order is placed for example
This is when the message is published to Pub/Sub
Process time is when the system observes the event
When the subscriber receives the Pub/Sub message
Obviously, process time is always after event time
Usually, this is a short period of time
Sometimes, a system problem will delay the process time
The difference between event and process times can vary significantly
Event occurs in a mobile application when the user is on an airplane</p><h2 id=dataprep>Dataprep</h2><p>Visual tool for cleaning and manipulating data
For massive datasets only (it runs on Dataflow - think Terabytes)
Serverless on top of Dataflow -</p><h2 id=composer>Composer</h2><p>A service that creates the Apache AirFlow server for you</p><p>Create environment
- name
- node count
- machine type
- service account</p><ul><li>Cloud Storage bucket<ul><li>workflows uploaded here are automatically scheduled in AirFlow by composer</li></ul></li></ul><p>Navigation -&gt; Big Data -&gt; Composer</p><p>Apache Airflow - Workflow orchestration engine
- python</p><p>AirFlow UI
- history of jobs</p><p>Workflow - coded in Python
- start date - job valid from
- each step is in a DAG
- each step is an Python or Bash Operator
- specify order of steps in python: step1 &gt;&gt; step2 &gt;&gt; step3</p><p>Built-in connectors for many GCP services</p><p>If bug, just overwrite the file in storage</p><h2 id=app-engine>App Engine</h2><p>Standard environment (scales to zero)</p><h2 id=cloud-function>Cloud Function</h2><p>Great for cheap push of a steaming data from PubSub</p><p>40c per million request
2 million requets free per month</p><h2 id=data-loss-prevention>Data Loss Prevention</h2><p>API to help classify and redact sensitive data
Helps customers meet their compliance obligations
Works with image or text data</p><p>Data can be in GCP, other clouds, or on-prem
Built-in support for BigQuery, Datastore, and GCS</p><p>90-plus built-in detectors for common sensitive data items
E.g., credit card numbers</p><p>Detectors can be customized to classify/redact new data items
E.g., social security numbers in a particular country’s format</p><h2 id=datalab>Datalab</h2><p>Managed Jupyter service</p><p>Interactive tool for data analysis, machine learning, and many other tasks</p><p>Based on Jupyter, an open-source project for creating iPython Notebooks</p><p>Supports many languages: Python, JavaScript, Shell scripts, HTML, SQL, etc.</p><p>Integrated with GCP, so access to other services like BigQuery are simple</p><p>Integrates with Git to enable collaboration and sharing notebooks</p><p>Runs in a Compute Engine Virtual Machine
No extra charge for Datalab beyond the machine cost</p><p>Manage Datalab instances using the Google Cloud SDK in Cloud Shell
To create a Datalab instance:datalab create instance-name
To stop an instance without deleting it:datalab stop instance-name
To restart a stopped instance:datalab connect instance-name
To delete an instance:datalab delete instance-name</p><p>Can pass in options to choose the machine type with the create command</p><p>For more options and details on using the SDK, see <a href=https://cloud.google.com/datalab/docs/how-to/lifecycle>https://cloud.google.com/datalab/docs/how-to/lifecycle</a></p><p>Creates a VM
Stop the VM and no compute cost, but still storage cost</p><p>Advantage is that
- Google Cloud SDK is already installed
- Already authenticated</p><pre><code>%%bq query

SELECT ...
</code></pre><pre><code>%javascript

function blah() { }
</code></pre><h2 id=data-studio>Data Studio</h2><p>datastudio.google.com</p><p>SaaS</p><p>Business reports / BI / charts &amp; graphing</p><p>Free</p><h2 id=machine-learning>Machine Learning</h2><p>In EXAM
- ML basics
- basic terminolgoy
- basic model
- GCP tools to help you</p><p>Target / Label
Features / inputs
Example - a row of data of inputs and label/target</p><p>Feature Tuning
1. gather data
2. Split data into train/test
3. Train / draw line</p><p>RMSE - root of the mean of the summed squared error
MAE - mean absolute error - using absolute value instead of squaring</p><p>Fit
evaluate
predict</p><p>Gradient Descnet
- find the best fit line / function / algorithm
- if RMSE goes down, move in same direction
- if RMSE goes up, move in other direction</p><p>Different features are more important than others - hence each has a weighting
Sum of weighted features gives the prediction</p><p>Algorithms
- Linear Regression - value along a line
- Classification - 2 or more categories
- Single layer neural models
- Neural networks - collection of layers</p><h2 id=tensorflow>TensorFlow</h2><p>No code in the EXAM</p><p>Supports Python, Go, JavaScript</p><h2 id=cloud-ai-platform-ml-engine>Cloud AI Platform / ML Engine</h2><p>Navigation -&gt; AI Platofrm -&gt; Jobs</p><p>gcloud ml-engine jobs submit training my_job &ndash;module-name trainer.task &ndash;staging-bucket gs://my-bucket &ndash;package-path /my/code/path/trainer &ndash;packages additional-dep1.tar.gz,dep2.whl
gcloud ml-engine jobs submit prediction JOB &ndash;data-format=DATA_FORMAT &ndash;input-paths=INPUT_PATH,[INPUT_PATH,…] &ndash;output-path=OUTPUT_PATH &ndash;region=REGION
gcloud ml-engine models create MODEL [&ndash;enable-logging] [&ndash;regions=REGION,[REGION,…]] [GCLOUD_WIDE_FLAG …]</p><p>Allows you to specify the number and type of training machines
no-ops and can automate hyperparameter tuning
deploy multiple versions of same model concurrently</p><h2 id=pre-built-ml-models>Pre-built ML Models</h2><p>Vision API
- face
- objects
- safe search detection - adult, racy, spoof, violence</p><ul><li>create a Cloud Function that runs when an image is uploaded to Cloud Storage
vision_client = vision.ImageAnnotatorClient()
result = vision_client.safe_search_detection(blob)
detected = result.safe_search_annotation
if detected.adult == 5 or detected.violence == 5:</li></ul><p>NLP
- entities, syntax, categories</p><ul><li>Sentiment<ul><li>score -1 to 1 negative or positive</li><li>magnitude -</li></ul></li></ul><p>Translate API</p><p>Video Intelligence API
- indexing</p><p>Speech API - recognition</p><h2 id=automl>AutoML</h2><p>AutoML Vision,
- Image classification
- Object detection</p><p>NLP</p><p>Translation</p><p>Uses Transfer Learning - extend a pre-trained model - allows you to require less data</p><p>Provides a simple user interface for:
Creating datasets
Training and evaluating modes
Using your trained models to make predictions</p><p>Trains model and gives a REST API to call the trained model.</p><h2 id=bigquery-ml>BigQuery ML</h2><p>Linear regression
Binary logistic regression
Multiclass logistic regression for classification</p><p>Must SELECT / mark one field as the label</p><h2 id=architecture>Architecture</h2><p>global load balancer -&gt; CDN + storage bucket single region (website use case)</p><p>spanner multi-regional access</p><h2 id=nosql>NoSQL</h2><p>horiz scalable
often schemaless
varying support for SQL
reporting can b harder</p><p>key-value stores
- Redis
- SimpleDB</p><p>Document stores
- Data is stored in some standard format like XML or JSON, BSON
- Nested and hierarchical data can be stored together - i.e. a single read instead of reading from multiple tables
- MongoDB, CouchDB, and DynamoDB are examples
- Firestore</p><p>Wide-column stores
- Key identifies a row in a table
- Column data types and number of columns can be different within each row
- All info about an entity is within the same row
- Cassandra and HBase are examples
- Bigtable</p><h2 id=availability-durability>Availability / Durability</h2><p>Availability is the percentage of time the data can be accessed - Achieved by deploying services to multiple zones and/or regions
Durability defines the likelihood of losing data because of a hardware failure - Achieved by writing data to multiple physical disks; The more disks, the higher the durability</p><h2 id=use-cases>Use Cases</h2><p>High availabilty - customer visible, real-time
Cost and durability - backups, archives - sacrifice availability or performance to make it cheaper
Cost is only consideration - cache or temporary data store that can be destroyed and recreated from other sources - typically in memory - want it to be cheap</p><h2 id=consistency>Consistency</h2><p>Transactional consistency – When a transaction completes, all operations must be successful or all are rolled back
The data must conform to all rules specified by the database
The state of data is known by all nodes in a distributed system
e.g. financial payment, price of stock</p><p>Eventual consistency – After data is updated, the system guarantees that all copies of the data in a distributed system will “eventually” be the same
It is possible that requests to different nodes will return different results after an update
e.g. product reviews, social networking status updates</p><p>Strong consistency – All nodes in a distributed system that have received the same update will be in the same state once the transaction completes - all nodes would thus return the same result to a query</p><h2 id=3-v-s-of-big-data>3 V&rsquo;s of Big Data</h2><p>Volume – there is a lot of data
Need many drives to store the data</p><p>Velocity – if there is a lot, then you must be collecting it at a fast rate
Need to be able to write to drives very quickly
Need to be able to get the data back very quickly</p><p>Variety – the data is coming for many different sources
Web pages
Text files
Logs
PDFs
Databases
Etc.</p><h1 id=roi>ROI</h1><p>Practice exam 20 questions: <a href=https://quiz.roitraining.com/de-practice-exam.html>https://quiz.roitraining.com/de-practice-exam.html</a></p><footer><div class="page-width mx-auto flex flex-wrap items-center justify-around"><small>Copyright &copy; 2018-2019 by Adam Craven. All rights reserved.<br><br></small><small class=center><a href=https://creativecommons.org/licenses/by/4.0/ rel=license target=_blank><img alt="Creative Commons Licence" src=https://licensebuttons.net/l/by/4.0/88x31.png style=border-width:0></a><br>This work is licensed under a<br><a href=https://creativecommons.org/licenses/by/4.0/ rel=license target=_blank>Creative Commons Attribution 4.0 International License</a>.</small></div></footer></body></html>